{% extends 'base.html' %}
{% block title %} - Browse Upcoming Club Events | Discover Club Events and Gigs in Kenya {% endblock %}
{% block content %}
<!-- Slider -->
<section class="section-slide grab">
    <div class="wrap-slick1">
        <div class="slick1">
            {% if covers %}
            {% for cover in covers %}
            <div class="item-slick1" id="cover" style="
                            background: url('{{ cover.cover_image.url }}') no-repeat;
                            -webkit-background-size: cover;
                            -moz-background-size: cover;
                            -o-background-size: cover;
                            background-size: cover;
                        ">
                <div class="container h-full">
                    <div class="flex-col-l-m h-full p-t-100 p-b-30 respon5 hero-content">
                        <div class="layer-slick1 animated visible-false" data-appear="fadeInDown" data-delay="0">
                            <h1 class="hero-title g-color--white respon2">
                                {{ cover.title }}
                            </h1>
                        </div>
                        <div class="layer-slick1 animated visible-false" data-appear="fadeInDown" data-delay="800">
                            <p class="hero-teaser g-color--white p-t-19 p-b-43 respon1">
                                {{ cover.venue }}
                            </p>
                        </div>
                        <div class="layer-slick1 animated visible-false" data-appear="slideInUp" data-delay="1600">
                            <a href="{% url 'event' cover.slug %}"
                                class="flex-c-m stext-101 cl0 size-101 bg2 hov-btn1 p-lr-15 trans-04">
                                <p> View </p>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
            {% else %}
            <div class="item-slick1" style="background-image: url('../../static/img/cover/chronix.jpg');">
                <div class="container h-full">
                    <div class="flex-col-l-m h-full p-t-100 p-b-30 respon5 hero-content">
                        <div class="layer-slick1 animated visible-false" data-appear="fadeInDown" data-delay="0">
                            <h1 class="hero-title g-color--white respon2">
                                {{ event.title }}
                            </h1>
                        </div>
                        <div class="layer-slick1 animated visible-false" data-appear="fadeInDown" data-delay="800">
                            <p class="hero-teaser g-color--white p-t-19 p-b-43 respon1">
                                {{ event.description }}
                            </p>
                        </div>
                        <div class="layer-slick1 animated visible-false" data-appear="slideInUp" data-delay="1600">
                            <a href="{% url 'event' cover.slug %}"
                                class="flex-c-m stext-101 cl0 size-101 bg2 hov-btn1 p-lr-15 trans-04">
                                <p> View </p>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</section>
<!--========== END COVER BLOCK ==========-->
<!-- Product -->
<section class="g-bg-color--dark-light p-t-23 p-b-140">
    <div class="container resize-content">
        <div class="flex-w flex-sb-m p-b-52">
            <div class="container row-on-mobile -gutter-compensation">
                <form action="{% url 'search' %}" method="GET">
                    <div class="col-md-4 form-group has-search input-with-icon-wrapper cl6 trans-04 m-tb-4">
                        <input type="text" name="q" value='{{ request.get.q }}' class="form-control stretch -theme-dark"
                            placeholder="Search by Clubs, Category or County">
                        <span class="fa fa-search fa-lg form-control-feedback"></span>
                    </div>
                </form>
                <div class="col-md-4 form-group has-search cl6 trans-04 m-tb-4">
                    <div class="btn-group input-with-icon-wrapper mdb-select md-btn colorful-select dropdown-danger">
                        <button type="button"
                            class="btn btn-danger dropdown-toggle input-with-icon-wrapper mdb-select md-btn colorful-select dropdown-danger"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Filter By Category
                        </button>
                        <div class="dropdown-menu bg2">
                            <a class="dropdown-item cl13 bg2 hov-btn1" href="{% url 'clubs' %}">
                                <p> Night Clubs </p>
                            </a>
                            <a class="dropdown-item cl13 bg2 hov-btn1" href="{% url 'genres' %}">
                                <p> Genre </p>
                            </a>
                            <a class="dropdown-item cl13 bg2 hov-btn1" href="{% url 'events' %}">
                                <p> All Events </p>
                            </a>
                            <div class="dropdown-divider"></div>
                            {% if categories %}
                            {% for category in categories %}
                            <a class="dropdown-item form-control cl13 bg2 hov-btn1"
                                href="{% url 'category' category.slug %}">
                                <p> {{ category.name }} </p>
                            </a>
                            {% endfor %}
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="p-b-10">
            <h2 class="g-color--white"><a href="{% url 'featured' %}" class="fa fa-angle-left">
                    Featured</a> - Upcoming Events
            </h2>
        </div>
        <!--========== Clubs ==========-->
        <div class="row isotope-grid">
            {% if clubs %}
            {% for club in clubs %}
            <div class="col-sm-6 col-md-4 col-lg-3 p-b-35 item-l-15 item-r-15 item-l-15 item-r-15 isotope-item women">
                    <!-- Block1 -->
                <div class="block1 wrap-pic-w">
                    <img class="explore" src="{{ club.club_image.url }}" alt="IMG-BANNER">
                    <a href="{% url 'club' club.slug %}"
                        class="block1-txt ab-t-l s-full flex-col-l-sb p-lr-38 p-tb-34 trans-03 respon3">
                        <div class="block1-txt-child1 flex-col-l">
                            <span class="block1-name ltext-102 trans-04 p-b-8 g-color--white">
                                {{ club.name }}
                            </span>
                        </div>
                        <div class="block1-txt-child2 p-b-4 trans-05">
                            <div class="block1-link stext-101 cl0 trans-09">
                                Explore {{ club.name }}
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            {% endfor %}
            {% else %}
            <div class="col-md-12">
                <p>No Clubs Listed</p>
            </div>
            {% endif %}
        </div>
        <!-- Load more -->
        <div class="flex-c-m flex-w w-full p-t-45">
            <nav aria-label="Page navigation example">
                {% if events.has_other_pages %}
                <ul class="pagination">
                    {% if events.has_previous %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{events.previous_page_number}}" aria-label="Previous">
                            <span class="cl0" aria-hidden="true">&laquo;</span>
                            <span class="sr-only">Previous</span>
                        </a>
                    </li>
                    {% else %}
                    <li class="page-item disabled">
                        <a class="page-link  bg10" href="#" aria-label="Previous">
                            <span class="cl0" aria-hidden="true">&laquo;</span>
                            <span class="sr-only">Previous</span>
                        </a>
                    </li>
                    {% endif %}
                    {% for i in events.paginator.page_range %}
                    {% if events.number == i %}
                    <li class="page-item active">
                        <a class="page-link">
                            <p>{{i}}</p>
                        </a>
                    </li>
                    {% else %}
                    <li class="page-item">
                        <a href="?page={{i}}" class="page-link">
                            <p>{{i}}</p>
                        </a>
                    </li>
                    {% endif %}
                    {% endfor %}
                    {% if events.has_next %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{events.next_page_number}}" aria-label="Next">
                            <span class="cl0" aria-hidden="true">&raquo;</span>
                            <span class="sr-only">Next</span>
                        </a>
                    </li>
                    {% else %}
                    <li class="page-item disabled">
                        <a class="page-link  bg10" href="#" aria-label="Previous">
                            <span class="cl0" aria-hidden="true">&laquo;</span>
                            <span class="sr-only">Previous</span>
                        </a>
                    </li>
                    {% endif %}
                </ul>
                {% endif %}
            </nav>
        </div>
    </div>
</section>

{% endblock %}
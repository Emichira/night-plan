{% extends 'base.html' %}
{% block content %}
{% load leaflet_tags %}
{% leaflet_css %}
{% leaflet_js %}
<!-- Slider -->
<section class="section-slide grab">
    <div class="wrap-slick1">
        <div class="slick1">
            <div class="item-slick1" style="background-image: url('{{ club.club_cover_image.url }}');">
                <div class="container h-full">
                    <div class="flex-col-l-m h-full p-t-100 p-b-30 respon5 hero-content">
                        <div class="layer-slick1 animated visible-false" data-appear="fadeInDown" data-delay="0">
                            <h1 class="hero-title g-color--white respon2">
                                {{ club.name }}
                            </h1>
                        </div>
                        <div class="layer-slick1 animated visible-false" data-appear="fadeInDown" data-delay="800">
                            <p class="hero-teaser g-color--white p-t-19 respon1">
                                <i class="fa fa-map-marker" aria-hidden="true"></i>
                                {{ club.location }}                            </p>
                            <p class="hero-teaser g-color--white p-t-19 respon1">
                                {{ club.county }}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!--========== END PROMO BLOCK ==========-->
<!-- Club Events Section -->
<section class="g-bg-color--dark-light p-t-23 p-b-140">
    <div class="container resize-content">
        <div class="col-md-12 flex-w flex-sb-m p-b-10">
            <h2 class="g-color--white"><a href="{% url 'featured' %}" class="fa fa-angle-left">
                    Explore</a> - {{ counties.name }}
            </h2>
            <form action="{% url 'search' %}" method="GET">
                <div class="col-md-12 form-group has-search input-with-icon-wrapper cl6 trans-04">
                    <input type="text" name="q" value='{{ request.get.q }}'
                        class="form-control stretch -theme-dark" placeholder="Search by Club or Event">
                    <span class="fa fa-search fa-lg form-control-feedback"></span>
                </div>
            </form>
        </div>

        <div class="row isotope-grid">
            {% if events %}
            {% for event in events %}

            <div class="col-sm-6 col-md-4 col-lg-3 p-b-35 single-item-l-15 single-item-r-15 isotope-item women">
                <!-- Block2 -->
                <div class="block2">
                    <div class="block2-pic hov-img0">

                        <a href="{% url 'event' event.slug %}">
                            <img src="{{ event.event_image.url }}" class="image-fluid" alt="IMG-PRODUCT">
                        </a>
                    </div>

                    <div class="block2-txt flex-w flex-t p-t-14">
                        <div class="flex-col-l ">
                            <a href="{% url 'event' event.slug %}"
                                class="stext-104 cl0 hov-cl1 trans-04 js-name-b2 p-b-6">
                                {{ event.title }}
                            </a>

                            <span class="stext-107 cl9">
                                {{ event.event_date }} - {{ event.event_end_date}}
                            </span>

                            <span class="stext-104 cl9">
                                {{ event.venue }}
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            {% endfor %}
            {% else %}
            <div class="col-md-12">
                <p>No Events Available</p>
            </div>
            {% endif %}

            <!-- Load more -->
            <div class="flex-c-m flex-w w-full p-t-45">

                <nav aria-label="Page navigation example">
                    {% if events.has_other_pages %}
                    <ul class="pagination">
                        {% if events.has_previous %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{events.previous_page_number}}" aria-label="Previous">
                                <span class="cl0" aria-hidden="true">&laquo;</span>
                                <span class="sr-only">Previous</span>
                            </a>
                        </li>
                        {% else %}
                        <li class="page-item disabled">
                            <a class="page-link  bg10" href="#" aria-label="Previous">
                                <span class="cl0" aria-hidden="true">&laquo;</span>
                                <span class="sr-only">Previous</span>
                            </a>
                        </li>
                        {% endif %}
                        {% for i in events.paginator.page_range %}
                        {% if events.number == i %}
                        <li class="page-item active">
                            <a class="page-link">
                                <p>{{i}}</p>
                            </a>
                        </li>
                        {% else %}
                        <li class="page-item">
                            <a href="?page={{i}}" class="page-link">
                                <p>{{i}}</p>
                            </a>
                        </li>
                        {% endif %}
                        {% endfor %}
                        {% if events.has_next %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{events.next_page_number}}" aria-label="Next">
                                <span class="cl0" aria-hidden="true">&raquo;</span>
                                <span class="sr-only">Next</span>
                            </a>
                        </li>
                        {% else %}
                        <li class="page-item disabled">
                            <a class="page-link  bg10" href="#" aria-label="Previous">
                                <span class="cl0" aria-hidden="true">&laquo;</span>
                                <span class="sr-only">Previous</span>
                            </a>
                        </li>
                        {% endif %}
                    </ul>
                    {% endif %}
                </nav>

            </div>
        </div>
</section>
<!-- Club Description -->
<div class="sec-banner g-bg-color--dark-light p-t-50 p-b-55">
    <div class="container">
        <div class="row g-bg-color--dark-light">
            <div class="col-md-6 p-b-30 p-leftcol-md-6 p-b-30 pad-l">
                <!-- Block1 -->
                <div class="block1-txt-child1 flex-col-l p-t-50">
                    <h1 class="hero-title g-color--white respon2">
                        {{ club.name }}
                    </h1>
                    <p class="hero-teaser g-color--white p-t-19 respon1">
                        <i class="fa fa-clock-o" aria-hidden="true"></i>
                        Opening Hours | 9:00 AM - 4:00 AM
                    </p>
                    <p class="hero-teaser g-color--white p-t-19 respon1">
                        <i class="fa fa-map-marker" aria-hidden="true"></i>
                        {{ club.location }}
                    </p>
                    <p class="hero-teaser g-color--white p-t-19 respon1">
                        <i class="fa fa-phone" aria-hidden="true"></i>
                        Reservations: â€­ {{ club.reservation_number}}
                    </p>
                    <p class="hero-teaser g-color--white p-t-19 respon1">
                        {{ club.description }} <br> {{ club.description_two }}
                    </p>
                </div>
            </div>
            <div class="col-md-6 p-b-30 pad-l">
                <!-- Block1 -->
                <div class="container mapouter">
                    <div>
                        {% leaflet_map "main" callback="map_init" %}
                    </div>
                    <script type="text/javascript">
                        function map_init(map, options) {
                            // get club point lat and lon
                            var lon = "{{ club.geometry.x }}";
                            var lat = "{{ club.geometry.y }}";
                            // zoom to point & add it to map
                            map.setView([lat, lon], 12);
                            L.marker([lat, lon]).addTo(map);
                        }
                    </script>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}